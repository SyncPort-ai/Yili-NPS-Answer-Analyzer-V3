# 伊利智能 NPS 调研洞察平台 – 开发任务清单

| 编号 | 模块 | 任务描述 | 优先级 | 预估工期 | 负责人(候选) | 依赖 | 交付物 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| T1 | 需求&数据 | 整理问卷结构、字段映射、隐私要求，确定 V2 接口冻结范围 | P0 | 3d | 产品/数据分析 | 无 | 数据字典、需求确认文档 |
| T2 | 基础设施 | 搭建多环境配置（dev/stage/prod）、完善 `.env` 管理与密钥策略 | P0 | 3d | 平台工程 | T1 | 配置模板、部署说明 |
| T3 | API 网关 | 明确 FastAPI 路由拆分，设置健康检查、版本信息、速率限制基础框架 | P0 | 4d | 后端 | T1 | 更新 `api.py`、`api_v3.py`、文档 |
| T4 | V3 MVP 工作流 | 在 `nps_report_v3/` 完成输入处理、七智能体执行、结果包装与持久化 | P0 | 8d | 多智能体开发 | T3 | 可运行的 `/nps-report-v3` 响应、单元测试 |
| T5 | 知识库工具 | 基于 `PersistentKnowledgeManager` 提供 CLI/API 更新业务规则、标签、反馈 | P1 | 5d | 后端/数据 | T1 | CLI 脚本 & API 端点、文档 |
| T6 | 报告模板 | 根据设计文档扩展 HTML 模板、KPI 卡片、行动表，支持中英文 | P1 | 6d | 前端/后端协作 | T4 | 新模板文件、渲染测试 |
| T7 | 观测&日志 | 统一日志格式、增加处理耗时埋点、输出结构化日志，接入告警配置 | P1 | 4d | DevOps | T3 | 日志配置、告警文档 |
| T8 | 自动化测试 | 补充 pytest 用例（数据清洗、Agent 合成、报告生成），新增隔离 smoke 测试 | P0 | 5d | QA | T4 | `tests/` 用例、CI 报告 |
| T9 | 前端仪表盘 | 设计报告浏览 UI、趋势分析页、过滤器，支持定时刷新 | P2 | 10d | 前端 | T6 | `templates/`, JS 逻辑、使用指南 |
| T10 | 定时/通知 | 构建定时任务生成报告、邮件/企业微信推送摘要 | P2 | 7d | 平台工程 | T4,T6 | Scheduler 配置、通知脚本 |
| T11 | PDF 导出 | 集成 HTML → PDF 流程（WeasyPrint/Playwright），添加下载接口 | P2 | 5d | 后端 | T6 | PDF 服务、API 文档 |
| T12 | 预测&推荐 | 引入趋势预测、推荐行动的 AI 模块，验证效果 | P3 | 12d | 数据科学 | T4,T5 | 新模型、评估报告 |
| T13 | 部署&上线 | 编写部署脚本、容器镜像、回滚方案，完成上线验收 | P0 | 6d | DevOps | T2,T4,T7,T8 | Dockerfile/Helm、SOP、验收记录 |
| T14 | 培训&文档 | 完成 README、API 文档、操作手册、培训材料 | P0 | 4d | PM/文档 | T4,T6 | 文档包、培训幻灯片 |

## 支撑行动
- 设立每周评审，根据业务反馈调整优先级。
- 使用看板追踪任务状态，与 OKR/里程碑联动。
- 所有 P0 任务作为平台 MVP 骨干，需优先完成并通过验收。
